1
00:00:00,000 --> 00:00:04,310
Chapter 8: Decision Tree Models in Knowledge Studio

2
00:00:04,310 --> 00:00:13,714
The Decision Tree Node, found under the Model palette, allows you to develop a predictive model by generating splits based on dataset features.

3
00:00:13,714 --> 00:00:24,241
Knowledge Studio allows you to both, interactively and automatically generate splits. We will be going over both methods in this demonstration.

4
00:00:24,241 --> 00:00:28,786
Let’s start by building a Decision Tree Model in Knowledge Studio.

5
00:00:28,786 --> 00:00:32,182
To begin, first create a new workflow.

6
00:00:32,182 --> 00:00:38,713
Next, link the partitioned Training and Validation datasets to our new workflow canvas.

7
00:00:38,713 --> 00:00:43,049
Now, drag the Decision Tree Node to the canvas.

8
00:00:43,049 --> 00:00:48,561
Connect the Training dataset to the decision tree node by dragging out an arrow

9
00:00:48,561 --> 00:00:52,950
Once the node is blue, double click to open the wizard.

10
00:00:52,950 --> 00:00:56,763
Here, set an appropriate name for this model

11
00:00:56,763 --> 00:01:00,786
Next, set the dependent variable to Response

12
00:01:00,786 --> 00:01:05,149
Confirm the correct dataset is connected and click next.

13
00:01:05,149 --> 00:01:10,321
On this second wizard page, we adjust the various Training Parameters.

14
00:01:10,321 --> 00:01:14,945
For Split Search method, we will choose the default Cluster option.

15
00:01:14,945 --> 00:01:25,106
For Measure select Entropy in this case. Note that Knowledge Studio provides a wide array of measures to choose from for different scenarios.

16
00:01:25,106 --> 00:01:27,849
Once done, click next.

17
00:01:27,849 --> 00:01:38,585
On the third wizard page, we can analyze the ranking and information for each variables predictive power and select which variables should be included in our model.

18
00:01:38,585 --> 00:01:44,019
Next, click Analyze to calculate the rank and associated information.

19
00:01:44,019 --> 00:01:48,695
For this demo we will keep the remaining variables and continue.

20
00:01:48,695 --> 00:01:57,367
On this page of the wizard, we can enable or disable automatically growing our tree and set parameters such as a Stopping Criteria.

21
00:01:57,367 --> 00:02:04,708
We will leave this disabled for now, but an example of auto-grow will be shown later in this demonstration.

22
00:02:04,708 --> 00:02:08,339
Next, let’s have a look at the Attribute Editor.

23
00:02:08,339 --> 00:02:16,437
Here we can modify various attributes for each variable in our dataset to help guide the algorithm in building a model.

24
00:02:16,437 --> 00:02:22,941
You will see this in all modelling techniques moving forward making it very useful to understand.

25
00:02:22,941 --> 00:02:28,061
Variable Name indicates the variable each row is associated with.

26
00:02:28,061 --> 00:02:34,305
“Include” allows us to select whether a variable should be included in the modeling algorithm.

27
00:02:34,305 --> 00:02:45,981
Role allows us to select between, Independent, Dependent variable and Weight. Weight is used to prioritize the importance of each record based on the variable's value.

28
00:02:45,981 --> 00:02:57,841
“Usage” tells the algorithm how each variable should be treated based on its data type characteristics. For example, ordered variable types should be set to ordinal.

29
00:02:57,841 --> 00:03:08,159
P-Value is used to adjust the number of branches a variable produces. Lower P-value will produce less branches compared to a higher setting.

30
00:03:08,159 --> 00:03:15,265
“Default number of Bins” adjusts the initial number of bins created for unique values in each variable.

31
00:03:15,265 --> 00:03:37,051
Interval type lets us select between Static and Dynamic bin options for continuous variables. Static bins remain unchanged throughout the tree, while Dynamic bins are recalculated each time the variable is used, resulting in a more comprehensive tree. Generally, Dynamic bins are recommended.

32
00:03:37,051 --> 00:03:51,157
“Break Apart” is used to improve computational speed when variables with numerous categories are used. To prioritize computational speed select “No”, but note that doing so lowers accuracy.

33
00:03:51,157 --> 00:04:01,998
“Missing Values” lets us choose between use, ignore, and float. Float is used to group records with missing values to nearest similar category.

34
00:04:01,998 --> 00:04:17,802
Ordered Display allows display adjustments for ordinal type variables. Selecting range will display values as 1 to 4 for example, while selecting all will display values as 1, 2, 3, 4 instead.

35
00:04:17,802 --> 00:04:28,146
The “Max Branches column” lets us adjust the maximum number of branches. Zero indicates no restrictions while any other number will add a limit.

36
00:04:28,146 --> 00:04:36,322
Open Left and Right is used to indicate if a continuous variable extends to negative and positive infinity accordingly.

37
00:04:36,322 --> 00:04:41,547
Cardinality displays the number of unique values for each variable.

38
00:04:41,547 --> 00:04:50,794
Format String is used to adjust the display precision and indicate if a variable should be presented as currency or percentage when necessary.

39
00:04:50,794 --> 00:04:55,104
After confirming the changes click “Ok” to confirm.

40
00:04:55,104 --> 00:04:58,161
Now click “run” to build the model.

41
00:04:58,161 --> 00:05:03,620
Once the node status turns green, double click to open the decision tree.

42
00:05:03,620 --> 00:05:11,248
To start interactively investigating the decision tree, right click on the root node and select Find Split.

43
00:05:11,248 --> 00:05:18,432
Find split picks the most predictive independent variable and will create new nodes on the decision tree.

44
00:05:18,432 --> 00:05:23,970
To see the next predictive variable, right click and select “next split”.

45
00:05:23,970 --> 00:05:30,579
Similarly, to go back to the previous variable, right click and select “previous split”.

46
00:05:30,579 --> 00:05:35,124
Let’s split the husband/wife grouping using “find split”.

47
00:05:35,124 --> 00:05:42,464
Since there’s a lot of variables, edit the split to group some of these together, reducing the tree complexity.

48
00:05:42,464 --> 00:05:46,226
Right click on the parent and select “edit split”.

49
00:05:46,226 --> 00:05:49,622
Select the variables to group together.

50
00:05:49,622 --> 00:05:54,063
Once we’re satisfied with the groups, click “Ok” to confirm.

51
00:05:54,063 --> 00:05:58,582
Next, split the unmarried group using “find split”.

52
00:05:58,582 --> 00:06:05,713
If we’d like to force a split using a certain variable, you can right click on the parent and select “force split”.

53
00:06:05,713 --> 00:06:10,311
Let’s select capital loss and edit the ranges in this case.

54
00:06:10,311 --> 00:06:13,367
Click Ok to generate the split.

55
00:06:13,367 --> 00:06:18,383
Next, let’s split the Other Relative category with find split.

56
00:06:18,383 --> 00:06:27,813
In the case you would like to completely ignore a variable throughout your decision tree, Right click on the parent node and select Ignore Variable.

57
00:06:27,813 --> 00:06:34,631
If we want to remove a set of child nodes, right click on the parent and select Erase child nodes.

58
00:06:34,631 --> 00:06:42,546
We can also copy and paste splits from one node to another by right clicking and first selecting copy splits.

59
00:06:42,546 --> 00:06:47,587
Then, right click on our target node and select paste splits.

60
00:06:47,587 --> 00:06:53,596
To tag a node of interest, right click and select Tag/Untag Node.

61
00:06:53,596 --> 00:06:58,716
Lastly to add comments, right click and select insert comment.

62
00:06:58,716 --> 00:07:04,750
We can also hide or show comments by right clicking and selecting show/hide comment.

63
00:07:04,750 --> 00:07:08,198
Lets save this tree model as an instance.

64
00:07:08,198 --> 00:07:11,829
Press Ctrl S or click Save.

65
00:07:11,829 --> 00:07:17,419
Next head back to the workflow canvas and right click the decision tree node.

66
00:07:17,419 --> 00:07:21,703
Select save model instance and give it an appropriate name.

67
00:07:21,703 --> 00:07:24,577
Click “OK” to save the instance.

68
00:07:24,577 --> 00:07:30,298
Now let’s create an automatically grown decision tree, using the same data node.

69
00:07:30,298 --> 00:07:34,791
Right click the root node and select auto grow decision tree.

70
00:07:34,791 --> 00:07:40,433
We can adjust the parameters as needed, for now let's use the default settings.

71
00:07:40,433 --> 00:07:43,411
Click Ok to generate the tree.

72
00:07:43,411 --> 00:07:50,882
Since this is a larger tree we can see the mini-map pop up in the bottom right-hand corner which can be used to pan the view.

73
00:07:50,882 --> 00:07:56,577
Similarly, we can use the Tree map tab to see a simplified view of the tree.

74
00:07:56,577 --> 00:08:01,200
If we split screen the Tree map view, we can use it to navigate.

75
00:08:01,200 --> 00:08:09,142
If we’re interested in seeing data available in a specific node we can select the node on our Tree then view the Node data tab.

76
00:08:09,142 --> 00:08:15,542
Click options and select the fields we are interested in seeing then confirm by clicking ok.

77
00:08:15,542 --> 00:08:21,602
If we go back to our Tree and select another node we can see different data is displayed.

78
00:08:21,602 --> 00:08:28,185
Next, we can use the Chart tab to create dynamic charts for any independent variable.

79
00:08:28,185 --> 00:08:31,424
In the options wizard, click next.

80
00:08:31,424 --> 00:08:35,995
Select age from the variable dropdown and click finish.

81
00:08:35,995 --> 00:08:43,022
If we split the display with our Tree, we see that selecting another node automatically updates the chart.

82
00:08:43,022 --> 00:08:47,568
Similarly, we can create more charts by clicking Add.

83
00:08:47,568 --> 00:08:52,688
If we’re interested in saving a chart, right click and select Save Chart.

84
00:08:52,688 --> 00:08:59,741
Profile chart is also a way to visualize our decision tree based on the number of records in each node.

85
00:08:59,741 --> 00:09:03,711
We can change the charted value to yes or no.

86
00:09:03,711 --> 00:09:09,798
Thicker segments indicate larger groups of records and you may be interested in splitting them further.

87
00:09:09,798 --> 00:09:14,839
First, let’s split the display between the profile chart and tree.

88
00:09:14,839 --> 00:09:19,541
Next, right click on the segment and select “find split.”

89
00:09:19,541 --> 00:09:24,087
As we can see, it has split into smaller segments.

90
00:09:24,087 --> 00:09:28,867
Heading back to the tree we can also see new splits have been added.

91
00:09:28,867 --> 00:09:33,177
Parameters and attributes provides a report of all the settings we established earlier on when generating the model.

92
00:09:33,177 --> 00:09:42,581
Saved charts are found under the saved charts tab to easily review later.

93
00:09:42,581 --> 00:09:53,109
Let’s save this model instance so we can compare our two models in a later module.

