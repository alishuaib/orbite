1
00:00:00,000 --> 00:00:05,146
To create custom blocks we will need to add a folder to our workflow properties

2
00:00:05,146 --> 00:00:09,508
First create a new folder to keep our custom block workflows.

3
00:00:09,508 --> 00:00:14,628
Next we need to set up our workflow properties to accept the custom block folder

4
00:00:14,628 --> 00:00:20,140
Navigate to local, right click properties and select the workflow properties page.

5
00:00:20,140 --> 00:00:24,842
Here click Add and select the new custom block folder we just created.

6
00:00:24,842 --> 00:00:30,432
Our objective now is to build a workflow for a customer which will create a lag function.

7
00:00:30,432 --> 00:00:38,347
First thing to do is create a new workflow inside our customer block area, we’ll call this "lag". Click finish.

8
00:00:38,347 --> 00:00:41,900
Now we need to configure our workflow settings.

9
00:00:41,900 --> 00:00:47,359
Click on workflow settings and select Custom block, found under the options page.

10
00:00:47,359 --> 00:00:53,237
Give the block a name, select a icon if available and provide a description for the block.

11
00:00:53,237 --> 00:00:56,293
Click apply and close to confirm.

12
00:00:56,293 --> 00:01:00,682
Next drag the “Seasonal Sales” dataset onto the canvas.

13
00:01:00,682 --> 00:01:05,175
Then drag a SAS Language block and dock it with the dataset.

14
00:01:05,175 --> 00:01:11,941
Double click on the SAS language block and use the following code to allow the lag function to be implemented.

15
00:01:11,941 --> 00:01:15,833
Create a new output so it corresponds with the code.

16
00:01:15,833 --> 00:01:20,456
Press CTRL + S to save the changes and close this window.

17
00:01:20,456 --> 00:01:25,028
Next we need to configure the parameters under workflow settings.

18
00:01:25,028 --> 00:01:31,349
We will need to create two string parameters for this custom block, “by Variable” and “lag Variable”

19
00:01:31,349 --> 00:01:36,313
Click Add to open the Create parameter dialog and create two parameters.

20
00:01:36,313 --> 00:01:41,642
Click apply and close, doing so you will be prompted to configure the parameters.

21
00:01:41,642 --> 00:01:47,415
For “by Variable” input Date and for “lag Variable” input Sales then click Apply.

22
00:01:47,415 --> 00:01:53,240
Double clicking on the output dataset we can see it has outputted all rows as lagged values.

23
00:01:53,240 --> 00:02:00,659
Next under Custom palette, drag the Output dataset block onto the canvas and dock it with the generated dataset.

24
00:02:00,659 --> 00:02:07,947
Now save the workflow with CTRL + S, as we can see the lag custom block has been added under the Custom palette.

25
00:02:07,947 --> 00:02:12,492
On a new workflow lets try using the Lag block we just created.

26
00:02:12,492 --> 00:02:17,064
First drag the same “Seasonal Sales” dataset onto the canvas.

27
00:02:17,064 --> 00:02:22,680
Next drag the Lag custom block onto the canvas and connect the imported dataset.

28
00:02:22,680 --> 00:02:27,225
Double click the block to open the configuration dialog window.

29
00:02:27,225 --> 00:02:33,547
For “by Variable” input Date and for “lag Variable” input Sales then click Apply and Close.

30
00:02:33,547 --> 00:02:39,372
Double clicking on the output dataset we can see the lagged value has been applied as intended.

